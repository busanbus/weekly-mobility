<!DOCTYPE html>
<html lang="ko">
<head>
  <meta name="theme-color" content="#ffffff" />
  <link rel="manifest" href="manifest.json">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ëª¨ë¹Œë¦¬í‹° ì£¼ê°„ë™í–¥</title>
  <meta name="description" content="ëª¨ë¹Œë¦¬í‹° ìµœì‹  ë™í–¥ê³¼ ì •ì±… ë³€í™”ë¥¼ í•œëˆˆì— í™•ì¸í•˜ì„¸ìš”. ì¹´ë“œë‰´ìŠ¤ í˜•ì‹ìœ¼ë¡œ ëª¨ë¹Œë¦¬í‹° íŠ¸ë Œë“œë¥¼ íŒŒì•…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.">
  <meta name="keywords" content="ëª¨ë¹Œë¦¬í‹°, ì£¼ê°„ë™í–¥, ëª¨ë¹Œë¦¬í‹° íŠ¸ë Œë“œ, ëª¨ë¹Œë¦¬í‹° ì •ì±…, ì¹´ë“œë‰´ìŠ¤">
  <meta name="author" content="ë¶€ì‚°ë²„ìŠ¤">
  <meta name="robots" content="index, follow">
  <meta property="og:title" content="ëª¨ë¹Œë¦¬í‹° ì£¼ê°„ë™í–¥">
  <meta property="og:type" content="website">
  <meta property="og:image" content="https://ifh.cc/g/OQ5Sgg.png">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ëª¨ë¹Œë¦¬í‹° ì£¼ê°„ë™í–¥ | ë¶€ì‚°ì‹œë‚´ë²„ìŠ¤ìš´ì†¡ì‚¬ì—…ì¡°í•©</title>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-ZXZ064TVJE"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-ZXZ064TVJE');
  </script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap" rel="stylesheet" />
  <link rel="icon" type="image/png" href="https://www.busanbus.or.kr/assets/img/common/favicon.png">
  <link rel="stylesheet" href="style/home-index.css">
</head>
<body>
  <script type="module" src="components/main-nav-no-lang.js"></script>
  <main-nav-no-lang></main-nav-no-lang>
  <script>
    // ì´ ìŠ¤í¬ë¦½íŠ¸ëŠ” PC/ëª¨ë°”ì¼ì— ë”°ë¼ ë‹¤ë¥¸ í˜ì´ì§€ë¥¼ ë³´ì—¬ì£¼ëŠ” ì•ˆë‚´ì› ì—­í• ì„ í•©ë‹ˆë‹¤.

    // 1. PWAê°€ ì•± ëª¨ë“œ(standalone ë˜ëŠ” fullscreen)ë¡œ ì‹¤í–‰ë˜ì—ˆëŠ”ì§€ í™•ì¸
    const isPwaMode = window.matchMedia('(display-mode: standalone)').matches ||
                      window.matchMedia('(display-mode: fullscreen)').matches;

    // 2. ì ‘ì†í•œ ê¸°ê¸°ê°€ ëª¨ë°”ì¼ì¸ì§€ í™•ì¸ (ê°„ë‹¨í•œ ë°©ì‹)
    const isMobile = /Mobi|Android/i.test(navigator.userAgent);

    // 3. ë§Œì•½ 'ëª¨ë°”ì¼'ì´ë©´ì„œ 'ì•± ëª¨ë“œ'ë¡œ ì‹¤í–‰í–ˆë‹¤ë©´ splash.htmlë¡œ ì¦‰ì‹œ ì´ë™
    if (isMobile && isPwaMode) {
      window.location.href = './splash.html';
    }
  </script>
  <!-- íˆì–´ë¡œ ì„¹ì…˜ -->
  <section class="hero-section">
    <div class="hero-content">
      <div class="hero-badge">
        ğŸ“ˆ ë§¤ì£¼ ì—…ë°ì´íŠ¸
      </div>
      <h1 class="hero-title">
        ëª¨ë¹Œë¦¬í‹°<br>
        <span style="background: linear-gradient(135deg, #60a5fa, #a78bfa); background-clip: text; -webkit-background-clip: text; -webkit-text-fill-color: transparent;">ì£¼ê°„ë™í–¥</span>
      </h1>
      <p class="hero-subtitle">
        ëª¨ë¹Œë¦¬í‹° ìµœì‹  ë™í–¥ê³¼ ì •ì±… ë³€í™”ë¥¼ í•œëˆˆì— í™•ì¸í•˜ì„¸ìš”.<br>
        ì¹´ë“œë‰´ìŠ¤ í˜•ì‹ìœ¼ë¡œ ëª¨ë¹Œë¦¬í‹° íŠ¸ë Œë“œë¥¼ íŒŒì•…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
      </p>
      <div class="hero-stats">
        <div class="hero-stat">
          <span class="hero-stat-number" id="totalReports">-</span>
          <span class="hero-stat-label">ëˆ„ì  ë¦¬í¬íŠ¸</span>
        </div>
        <div class="hero-stat">
          <span class="hero-stat-number" id="latestUpdate">-</span>
          <span class="hero-stat-label">ìµœê·¼ ì—…ë°ì´íŠ¸</span>
        </div>
  </section>

  <!-- ë©”ì¸ ì»¨í…Œì´ë„ˆ -->
  <main class="main-container">
    <!-- ìµœì‹  ë™í–¥ ì„¹ì…˜ (ë™ì ìœ¼ë¡œ ìƒì„±ë¨) -->
    <section class="latest-section" id="latest-section-placeholder">
      <div class="latest-header">
        <div class="latest-title">
          <div class="latest-icon">ğŸš€</div>
          ìµœì‹  ë™í–¥
        </div>
        <div class="latest-badge">NEW</div>
      </div>
      
      <div class="latest-content">
        <div class="latest-info">
          <h3>ë¡œë”© ì¤‘...</h3>
          <div class="latest-meta">
            <span>ğŸ“… yyyy.mm.dd ë°œí–‰</span>
          </div>
          <p>ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤...</p>
          <div class="latest-actions" style="margin-top: 32px;">
            <a href="#" class="btn-primary">
              ğŸ“– ë°”ë¡œ ì½ê¸°
            </a>
          </div>
        </div>
        <!-- ìµœì‹  ë™í–¥ ì¼ëŸ¬ìŠ¤íŠ¸ SVG -->
        <div style="display:flex; align-items:center; justify-content:center;">
          <img src="https://images.unsplash.com/photo-1584438784894-089d6a62b8fa?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
               alt="ë²„ìŠ¤ ì´ë¯¸ì§€"
               style="width: 280px; height: auto; object-fit: cover; border-radius: 16px; box-shadow: 0 4px 16px rgba(0,0,0,0.10);" />
        </div>
      </div>
    </section>

    <!-- ì„¹ì…˜ í—¤ë” -->
    <div class="section-header">
      <h2 class="section-title">ë‘˜ëŸ¬ë³´ê¸°</h2>
      <p class="section-subtitle">
        ì—°ë„ë³„ë¡œ ì •ë¦¬ëœ ëª¨ë¹Œë¦¬í‹° ì£¼ê°„ë™í–¥ ìë£Œë¥¼ íƒìƒ‰í•˜ê³  ë‹¤ìš´ë¡œë“œí•˜ì„¸ìš”
      </p>
    </div>

    <!-- ì—°ë„ íƒ­ -->
    <div class="year-tabs">
      <div class="year-tab " onclick="showYear(2025)">
        <span>2025ë…„</span>
      </div>
      <div class="year-tab active" onclick="showYear(2026)">
        <span>2026ë…„</span>
        <span class="year-tab-badge">ìµœì‹ </span>
      </div>
    </div>

    <!-- 2025ë…„ ì»¨í…ì¸  -->
    <div id="year-2025" class="year-content">
      <div class="year-card">
        <div class="year-header">
          <div class="year-title">
            <div class="year-icon">ğŸ“…</div>
            2025ë…„
          </div>
          <div class="year-meta">
            <span class="year-badge">ì™„ë£Œ</span>
          </div>
        </div>
        
        <div class="month-grid">
          <a href="archive/2025/04" class="month-card loading">
            <div class="month-content">
              <div class="month-header">
                <div>
                  <div class="month-name">4ì›”</div>
                  <div class="month-info">April 2025</div>
                </div>
                <div class="month-number">04</div>
              </div>
              <div class="month-arrow">ìë£Œ ë³´ê¸° â†’</div>
            </div>
          </a>

          <a href="archive/2025/05" class="month-card loading">
            <div class="month-content">
              <div class="month-header">
                <div>
                  <div class="month-name">5ì›”</div>
                  <div class="month-info">May 2025</div>
                </div>
                <div class="month-number">05</div>
              </div>
              <div class="month-arrow">ìë£Œ ë³´ê¸° â†’</div>
            </div>
          </a>

          <a href="archive/2025/06" class="month-card loading">
            <div class="month-content">
              <div class="month-header">
                <div>
                  <div class="month-name">6ì›”</div>
                  <div class="month-info">June 2025</div>
                </div>
                <div class="month-number">06</div>
              </div>
              <div class="month-arrow">ìë£Œ ë³´ê¸° â†’</div>
            </div>
          </a>

          <a href="archive/2025/07" class="month-card loading">
            <div class="month-content">
              <div class="month-header">
                <div>
                  <div class="month-name">7ì›”</div>
                  <div class="month-info">July 2025</div>
                </div>
                <div class="month-number">07</div>
              </div>
              <div class="month-arrow">ìë£Œ ë³´ê¸° â†’</div>
            </div>
          </a>

          <a href="archive/2025/08" class="month-card loading">
            <div class="month-content">
              <div class="month-header">
                <div>
                  <div class="month-name">8ì›”</div>
                  <div class="month-info">August 2025</div>
                </div>
                <div class="month-number">08</div>
              </div>
              <div class="month-arrow">ìë£Œ ë³´ê¸° â†’</div>
            </div>
          </a>

          <a href="archive/2025/09" class="month-card loading">
            <div class="month-content">
              <div class="month-header">
                <div>
                  <div class="month-name">9ì›”</div>
                  <div class="month-info">September 2025</div>
                </div>
                <div class="month-number">09</div>
              </div>
              <div class="month-arrow">ìë£Œ ë³´ê¸° â†’</div>
            </div>
          </a>

          <a href="archive/2025/10" class="month-card loading">
            <div class="month-content">
              <div class="month-header">
                <div>
                  <div class="month-name">10ì›”</div>
                  <div class="month-info">October 2025</div>
                </div>
                <div class="month-number">10</div>
              </div>
              <div class="month-arrow">ìë£Œ ë³´ê¸° â†’</div>
            </div>
          </a>

          <a href="archive/2025/11" class="month-card loading">
            <div class="month-content">
              <div class="month-header">
                <div>
                  <div class="month-name">11ì›”</div>
                  <div class="month-info">November 2025</div>
                </div>
                <div class="month-number">11</div>
              </div>
              <div class="month-arrow">ìë£Œ ë³´ê¸° â†’</div>
            </div>
          </a>

          <a href="archive/2025/12" class="month-card loading">
            <div class="month-content">
              <div class="month-header">
                <div>
                  <div class="month-name">12ì›”</div>
                  <div class="month-info">December 2025</div>
                </div>
                <div class="month-number">12</div>
              </div>
              <div class="month-arrow">ìë£Œ ë³´ê¸° â†’</div>
            </div>
          </a>
        </div>
      </div>
    </div>

    <!-- 2026ë…„ ì»¨í…ì¸  -->
    <div id="year-2026" class="year-content active">
      <div class="year-card">
        <div class="year-header">
          <div class="year-title">
            <div class="year-icon">ğŸ“…</div>
            2026ë…„
          </div>
          <div class="year-meta">
            <span class="year-badge">ì§„í–‰ì¤‘</span>
          </div>
        </div>
        
        <div class="month-grid">
          <a href="archive/2026/01" class="month-card loading">
            <div class="month-content">
              <div class="month-header">
                <div>
                  <div class="month-name">1ì›”</div>
                  <div class="month-info">January 2026</div>
                </div>
                <div class="month-number">01</div>
              </div>
              <div class="month-arrow">ìë£Œ ë³´ê¸° â†’</div>
            </div>
          </a>

          <a href="archive/2026/02" class="month-card loading">
            <div class="month-content">
              <div class="month-header">
                <div>
                  <div class="month-name">2ì›”</div>
                  <div class="month-info">February 2026</div>
                </div>
                <div class="month-number">02</div>
              </div>
              <div class="month-arrow">ìë£Œ ë³´ê¸° â†’</div>
            </div>
          </a>

          <a href="archive/2026/03" class="month-card loading">
            <div class="month-content">
              <div class="month-header">
                <div>
                  <div class="month-name">3ì›”</div>
                  <div class="month-info">March 2026</div>
                </div>
                <div class="month-number">03</div>
              </div>
              <div class="month-arrow">ìë£Œ ë³´ê¸° â†’</div>
            </div>
          </a>

          <a href="archive/2026/04" class="month-card loading">
            <div class="month-content">
              <div class="month-header">
                <div>
                  <div class="month-name">4ì›”</div>
                  <div class="month-info">April 2026</div>
                </div>
                <div class="month-number">04</div>
              </div>
              <div class="month-arrow">ìë£Œ ë³´ê¸° â†’</div>
            </div>
          </a>

          <a href="archive/2026/05" class="month-card loading">
            <div class="month-content">
              <div class="month-header">
                <div>
                  <div class="month-name">5ì›”</div>
                  <div class="month-info">May 2026</div>
                </div>
                <div class="month-number">05</div>
              </div>
              <div class="month-arrow">ìë£Œ ë³´ê¸° â†’</div>
            </div>
          </a>

          <a href="archive/2026/06" class="month-card loading">
            <div class="month-content">
              <div class="month-header">
                <div>
                  <div class="month-name">6ì›”</div>
                  <div class="month-info">June 2026</div>
                </div>
                <div class="month-number">06</div>
              </div>
              <div class="month-arrow">ìë£Œ ë³´ê¸° â†’</div>
            </div>
          </a>

          <a href="archive/2026/07" class="month-card loading">
            <div class="month-content">
              <div class="month-header">
                <div>
                  <div class="month-name">7ì›”</div>
                  <div class="month-info">July 2026</div>
                </div>
                <div class="month-number">07</div>
              </div>
              <div class="month-arrow">ìë£Œ ë³´ê¸° â†’</div>
            </div>
          </a>

          <a href="archive/2026/08" class="month-card loading">
            <div class="month-content">
              <div class="month-header">
                <div>
                  <div class="month-name">8ì›”</div>
                  <div class="month-info">August 2026</div>
                </div>
                <div class="month-number">08</div>
              </div>
              <div class="month-arrow">ìë£Œ ë³´ê¸° â†’</div>
            </div>
          </a>

          <a href="archive/2026/09" class="month-card loading">
            <div class="month-content">
              <div class="month-header">
                <div>
                  <div class="month-name">9ì›”</div>
                  <div class="month-info">September 2026</div>
                </div>
                <div class="month-number">09</div>
              </div>
              <div class="month-arrow">ìë£Œ ë³´ê¸° â†’</div>
            </div>
          </a>

          <a href="archive/2026/10" class="month-card loading">
            <div class="month-content">
              <div class="month-header">
                <div>
                  <div class="month-name">10ì›”</div>
                  <div class="month-info">October 2026</div>
                </div>
                <div class="month-number">10</div>
              </div>
              <div class="month-arrow">ìë£Œ ë³´ê¸° â†’</div>
            </div>
          </a>

          <a href="archive/2026/11" class="month-card loading">
            <div class="month-content">
              <div class="month-header">
                <div>
                  <div class="month-name">11ì›”</div>
                  <div class="month-info">November 2026</div>
                </div>
                <div class="month-number">11</div>
              </div>
              <div class="month-arrow">ìë£Œ ë³´ê¸° â†’</div>
            </div>
          </a>

          <a href="archive/2026/12" class="month-card loading">
            <div class="month-content">
              <div class="month-header">
                <div>
                  <div class="month-name">12ì›”</div>
                  <div class="month-info">December 2026</div>
                </div>
                <div class="month-number">12</div>
              </div>
              <div class="month-arrow">ìë£Œ ë³´ê¸° â†’</div>
            </div>
          </a>
        </div>
      </div>
    </div>
  </main>

  <!-- ì¶”ê°€ ëœë”© ì†Œê°œ ì„¹ì…˜ -->
  <section class="about-section" style="background: var(--gray-100); padding: 64px 0 48px 0; text-align: center;">
    <div style="max-width: 800px; margin: 0 auto; padding: 0 24px;">
      <h2 style="font-size: 2rem; font-weight: 800; color: var(--primary-blue); margin-bottom: 18px;">ëª¨ë¹Œë¦¬í‹° ì£¼ê°„ë™í–¥ì´ë€?</h2>
      <p style="font-size: 1.15rem; color: var(--gray-800); margin-bottom: 32px; line-height: 1.8;">
        <b>ë¶€ì‚°ì‹œë‚´ë²„ìŠ¤ìš´ì†¡ì‚¬ì—…ì¡°í•©</b>ì´ ì œê³µí•˜ëŠ” <b>ëª¨ë¹Œë¦¬í‹° ì£¼ê°„ë™í–¥</b>ì€<br>
        ì „êµ­ì˜ ëŒ€ì¤‘êµí†µ, ì¹œí™˜ê²½ ëª¨ë¹Œë¦¬í‹°, ì •ì±… íŠ¸ë Œë“œ, ì‹œë¯¼ ì²´ê° ì´ìŠˆ ë“±<br>
        ë‹¤ì–‘í•œ ì£¼ê°„ ë¦¬í¬íŠ¸ì™€ ë¶„ì„ ìë£Œë¥¼ í•œ ê³³ì— ëª¨ì•„<br>
        <span style="color: var(--primary-blue); font-weight: 700;">ëˆ„êµ¬ë‚˜ ì‰½ê³  ììœ ë¡­ê²Œ</span> ì—´ëŒí•  ìˆ˜ ìˆë„ë¡ ë§Œë“  ì†Œì‹í—ˆë¸Œì…ë‹ˆë‹¤.<br>
        <br>
        ìµœì‹  ì •ì±… ë³€í™”ì™€ íŠ¸ë Œë“œë¥¼ í•œëˆˆì— íŒŒì•…í•˜ê³ ,<br>
        PDF ì›ë¬¸ ë‹¤ìš´ë¡œë“œ, ì›”ë³„/ì—°ë„ë³„ íƒìƒ‰ ë“± ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.
      </p>
      <div style="display: flex; justify-content: center; gap: 24px; flex-wrap: nowrap; margin-bottom: 16px;">
        <div style="background: white; border-radius: 16px; box-shadow: var(--shadow-md); padding: 28px 32px; min-width: 180px;">
          <div style="font-size: 2rem; color: var(--primary-blue); font-weight: 800; margin-bottom: 8px;">100% ë¬´ë£Œ</div>
          <div style="color: var(--gray-700); font-size: 1rem;">íšŒì›ê°€ì… ì—†ì´ ëˆ„êµ¬ë‚˜<br>ëª¨ë“  ìë£Œ ì—´ëŒ ê°€ëŠ¥</div>
        </div>
        <div style="background: white; border-radius: 16px; box-shadow: var(--shadow-md); padding: 28px 32px; min-width: 180px;">
          <div style="font-size: 2rem; color: var(--primary-blue); font-weight: 800; margin-bottom: 8px;">ë§¤ì£¼ ì—…ë°ì´íŠ¸</div>
          <div style="color: var(--gray-700); font-size: 1rem;"><br>ìµœì‹  ì •ì±…Â·íŠ¸ë Œë“œ ì§€ì† ë°˜ì˜</div>
        </div>
      </div>
    </div>
  </section>

  <!-- ì»¨íƒíŠ¸ ì„¹ì…˜ -->
  <section class="contact-section" style="background: white; padding: 72px 0; margin-top: 43px;">
    <div style="max-width: 720px; margin: 0 auto; padding: 0 24px;">
      <div style="text-align: center; margin-bottom: 43px;">
        <h2 style="font-size: 1.98rem; font-weight: 800; color: var(--gray-900); margin-bottom: 14px; background: linear-gradient(135deg, var(--primary-blue), var(--primary-dark)); background-clip: text; -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
          ë¬¸ì˜í•˜ê¸°
        </h2>
        <p style="font-size: 0.99rem; color: var(--gray-600); max-width: 450px; margin: 0 auto;">
          ëª¨ë¹Œë¦¬í‹° ì£¼ê°„ë™í–¥ì— ëŒ€í•œ ë¬¸ì˜ì‚¬í•­ì´ë‚˜ ì œì•ˆì‚¬í•­ì„ ë³´ë‚´ì£¼ì„¸ìš”.
        </p>
      </div>

      <form id="contactForm" style="background: var(--gray-50); border-radius: 22px; padding: 43px; box-shadow: var(--shadow-lg); border: 1px solid var(--gray-200);">
        <div style="margin-bottom: 22px;">
          <label for="contactName" style="display: block; font-weight: 600; color: var(--gray-900); margin-bottom: 7px; font-size: 0.86rem;">
            ì´ë¦„ <span style="color: var(--primary-blue);">*</span>
          </label>
          <input 
            type="text" 
            id="contactName" 
            name="name" 
            required 
            style="width: 100%; padding: 13px 16px; border: 2px solid var(--gray-200); border-radius: 11px; font-size: 0.9rem; font-family: 'Noto Sans KR', sans-serif; transition: all 0.3s ease; background: white;"
            placeholder="ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”"
            onfocus="this.style.borderColor='var(--primary-blue)'; this.style.boxShadow='0 0 0 3px rgba(0, 102, 255, 0.1)'"
            onblur="this.style.borderColor='var(--gray-200)'; this.style.boxShadow='none'"
          />
        </div>

        <div style="margin-bottom: 22px;">
          <label for="contactEmail" style="display: block; font-weight: 600; color: var(--gray-900); margin-bottom: 7px; font-size: 0.86rem;">
            ì´ë©”ì¼ <span style="color: var(--primary-blue);">*</span>
          </label>
          <input 
            type="email" 
            id="contactEmail" 
            name="email" 
            required 
            style="width: 100%; padding: 13px 16px; border: 2px solid var(--gray-200); border-radius: 11px; font-size: 0.9rem; font-family: 'Noto Sans KR', sans-serif; transition: all 0.3s ease; background: white;"
            placeholder="your@email.com"
            onfocus="this.style.borderColor='var(--primary-blue)'; this.style.boxShadow='0 0 0 3px rgba(0, 102, 255, 0.1)'"
            onblur="this.style.borderColor='var(--gray-200)'; this.style.boxShadow='none'"
          />
        </div>

        <div style="margin-bottom: 22px;">
          <label for="contactSubject" style="display: block; font-weight: 600; color: var(--gray-900); margin-bottom: 7px; font-size: 0.86rem;">
            ì œëª© <span style="color: var(--primary-blue);">*</span>
          </label>
          <input 
            type="text" 
            id="contactSubject" 
            name="subject" 
            required 
            style="width: 100%; padding: 13px 16px; border: 2px solid var(--gray-200); border-radius: 11px; font-size: 0.9rem; font-family: 'Noto Sans KR', sans-serif; transition: all 0.3s ease; background: white;"
            placeholder="ë¬¸ì˜ ì œëª©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”"
            onfocus="this.style.borderColor='var(--primary-blue)'; this.style.boxShadow='0 0 0 3px rgba(0, 102, 255, 0.1)'"
            onblur="this.style.borderColor='var(--gray-200)'; this.style.boxShadow='none'"
          />
        </div>

        <div style="margin-bottom: 29px;">
          <label for="contactMessageTextarea" style="display: block; font-weight: 600; color: var(--gray-900); margin-bottom: 7px; font-size: 0.86rem;">
            ë©”ì‹œì§€ <span style="color: var(--primary-blue);">*</span>
          </label>
          <textarea 
            id="contactMessageTextarea" 
            name="message" 
            required 
            rows="6"
            style="width: 100%; padding: 13px 16px; border: 2px solid var(--gray-200); border-radius: 11px; font-size: 0.9rem; font-family: 'Noto Sans KR', sans-serif; transition: all 0.3s ease; background: white; resize: vertical; min-height: 135px;"
            placeholder="ë¬¸ì˜ ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”"
            onfocus="this.style.borderColor='var(--primary-blue)'; this.style.boxShadow='0 0 0 3px rgba(0, 102, 255, 0.1)'"
            onblur="this.style.borderColor='var(--gray-200)'; this.style.boxShadow='none'"
          ></textarea>
        </div>

        <div style="display: flex; gap: 11px; flex-wrap: wrap;">
          <button 
            type="submit" 
            id="contactSubmitBtn"
            style="flex: 1; min-width: 180px; background: linear-gradient(135deg, var(--primary-blue), var(--accent-blue)); color: white; padding: 14px 29px; border: none; border-radius: 11px; font-size: 0.9rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; display: inline-flex; align-items: center; justify-content: center; gap: 7px; font-family: 'Noto Sans KR', sans-serif;"
            onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='var(--shadow-lg)'"
            onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'"
          >
            <span>ğŸ“§</span>
            <span>ë©”ì¼ ë³´ë‚´ê¸°</span>
          </button>
          <button 
            type="button" 
            onclick="document.getElementById('contactForm').reset();"
            style="padding: 14px 29px; background: var(--gray-100); color: var(--gray-700); border: 2px solid var(--gray-200); border-radius: 11px; font-size: 0.9rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; font-family: 'Noto Sans KR', sans-serif;"
            onmouseover="this.style.background='var(--gray-200)'"
            onmouseout="this.style.background='var(--gray-100)'"
          >
            ì´ˆê¸°í™”
          </button>
        </div>

        <div id="contactStatusMessage" style="margin-top: 22px; padding: 14px; border-radius: 11px; display: none; font-size: 0.86rem;"></div>
      </form>

      <div style="margin-top: 29px; text-align: center; color: var(--gray-600); font-size: 0.86rem;">
        <p style="margin-bottom: 7px;">
          <b>ë¶€ì‚°ì‹œë‚´ë²„ìŠ¤ìš´ì†¡ì‚¬ì—…ì¡°í•©</b> ì „ëµê¸°íšíŒ€
        </p>
        <p>
          ì´ë©”ì¼: <a href="mailto:chha@busanbus.or.kr" style="color: var(--primary-blue); text-decoration: underline;">chha@busanbus.or.kr</a>
        </p>
      </div>
    </div>
  </section>

  <!-- í‘¸í„° -->
  <home-index-footer></home-index-footer>

  <!-- í”Œë¡œíŒ…UI(SNS) -->
  <floating-sns></floating-sns>

  <script type="module" src="js/chatbot.js"></script>
  <script type="module" src="components/floating-sns.js"></script>
  <script type="module" src="components/home-index-footer.js"></script>
  <script type="module">
    // ëˆ„ì  ë¦¬í¬íŠ¸ ê°œìˆ˜ ë° ìµœê·¼ ì—…ë°ì´íŠ¸ ë‚ ì§œ ìë™ ì—…ë°ì´íŠ¸
    // ìµœì‹  ë™í–¥ ì„¹ì…˜ ë™ì  ìƒì„±
    import SearchSystem from './components/search-system.js';

    async function updateHeroStats() {
      try {
        const searchSystem = new SearchSystem();
        await searchSystem.loadData();

        // ì¤‘ë³µ ì œê±°ëœ ì£¼ì°¨ ëª©ë¡ ìƒì„±
        const seen = new Set();
        const uniqueWeeks = [];

        for (const item of searchSystem.searchableData) {
          const key = `${item.year}-${String(item.month).padStart(2, '0')}-${item.week}`;
          if (!seen.has(key)) {
            seen.add(key);
            uniqueWeeks.push({
              year: item.year,
              month: item.month,
              week: item.week
            });
          }
        }

        // ëˆ„ì  ë¦¬í¬íŠ¸ ê°œìˆ˜ ì—…ë°ì´íŠ¸
        const totalReportsElement = document.getElementById('totalReports');
        if (totalReportsElement) {
          totalReportsElement.textContent = uniqueWeeks.length;
        }

        // ìµœê·¼ ì—…ë°ì´íŠ¸ ë‚ ì§œ: ë°œí–‰ì¼ì´ ìˆìœ¼ë©´ ì‚¬ìš©, ì—†ìœ¼ë©´ í•˜ë“œì½”ë”© ê°’ ìœ ì§€
        if (uniqueWeeks.length > 0) {
          const latestWeek = uniqueWeeks[0];
          // í•´ë‹¹ ì£¼ì°¨ì˜ ë°œí–‰ì¼ ì°¾ê¸° (ë°œí–‰ì¼ì´ ìˆëŠ” ì²« ë²ˆì§¸ ì•„ì´í…œ ì°¾ê¸°)
          const latestWeekData = searchSystem.searchableData.find(item => 
            item.year === latestWeek.year && 
            item.month === latestWeek.month && 
            item.week === latestWeek.week &&
            item.publishDate && item.publishDate.trim() // ë°œí–‰ì¼ì´ ìˆëŠ” ê²ƒë§Œ
          );
          
          if (latestWeekData && latestWeekData.publishDate) {
            // ë°œí–‰ì¼ì´ ìˆìœ¼ë©´ YYYY.MM.DD í˜•ì‹ì„ YY-MM-DDë¡œ ë³€í™˜
            const publishDate = latestWeekData.publishDate.trim();
            // 2026.01.05 -> 26-01-05
            const dateMatch = publishDate.match(/(\d{4})\.(\d{2})\.(\d{2})/);
            if (dateMatch) {
              const yearShort = dateMatch[1].slice(-2);
              const month = dateMatch[2];
              const day = dateMatch[3];
              const latestUpdateElement = document.getElementById('latestUpdate');
              if (latestUpdateElement) {
                latestUpdateElement.textContent = `${yearShort}-${month}-${day}`;
                console.log('âœ… íˆì–´ë¡œ ì„¹ì…˜ ìµœê·¼ ì—…ë°ì´íŠ¸ ë‚ ì§œ ì—…ë°ì´íŠ¸:', `${yearShort}-${month}-${day}`);
              }
            }
          } else {
            console.log('âš ï¸ ë°œí–‰ì¼ ë°ì´í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. í•˜ë“œì½”ë”© ê°’ ìœ ì§€');
          }
          // ë°œí–‰ì¼ì´ ì—†ìœ¼ë©´ í•˜ë“œì½”ë”© ê°’ ìœ ì§€ (íˆì–´ë¡œ ì„¹ì…˜ì—ì„œ ì§ì ‘ ìˆ˜ì •)
        }
      } catch (error) {
        console.error('íˆì–´ë¡œ í†µê³„ ì—…ë°ì´íŠ¸ ì‹¤íŒ¨:', error);
        // ì‹¤íŒ¨ ì‹œ ê¸°ë³¸ê°’ ìœ ì§€
      }
    }

    // ìµœì‹  ë™í–¥ ì„¹ì…˜ ë™ì  ìƒì„±
    async function renderLatestSection() {
      try {
        // SearchSystemì€ ì´ë¯¸ updateHeroStatsì—ì„œ ë¡œë“œë˜ë¯€ë¡œ ì¬ì‚¬ìš©
        const searchSystem = new SearchSystem();
        await searchSystem.loadData();

        // ì „ì²´ ì£¼ì°¨ ë¦¬ìŠ¤íŠ¸(ìµœì‹ ìˆœ) ìƒì„± ë° ì£¼ì°¨ ë‹¨ìœ„ë¡œ ì¤‘ë³µ ì œê±°
        const seen = new Set();
        const weeksAll = [];
        for (const item of searchSystem.searchableData) {
          const key = `${item.year}-${String(item.month).padStart(2,'0')}-${item.week}`;
          if (!seen.has(key)) {
            seen.add(key);
            weeksAll.push({
              year: item.year,
              month: item.month,
              week: item.week,
              weeklyUrl: item.weeklyUrl,
            });
          }
        }

        // ê°€ì¥ ìµœì‹  ì£¼ì°¨ ì •ë³´
        if (weeksAll.length === 0) {
          console.warn('ì£¼ì°¨ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.');
          return;
        }

        const latestWeek = weeksAll[0];
        const weekKey = `${latestWeek.year}-${String(latestWeek.month).padStart(2,'0')}-${latestWeek.week}`;

        // ì£¼ì°¨ë³„ ëŒ€í‘œ ì œëª© ìˆ˜ì§‘ (ìµœëŒ€ 3ê°œ)
        const weekTitles = [];
        for (const item of searchSystem.searchableData) {
          const key = `${item.year}-${String(item.month).padStart(2,'0')}-${item.week}`;
          if (key === weekKey && item.title && item.title.trim()) {
            if (weekTitles.length < 3) {
              weekTitles.push(item.title.trim());
            }
          }
        }

        // latest-section ì—…ë°ì´íŠ¸
        const latestSection = document.getElementById('latest-section-placeholder');
        if (latestSection) {
          const h3 = latestSection.querySelector('h3');
          const metaSpan = latestSection.querySelector('.latest-meta span');
          const p = latestSection.querySelector('p');
          const link = latestSection.querySelector('.btn-primary');

          if (h3) {
            h3.textContent = `${latestWeek.year}ë…„ ${latestWeek.month}ì›” ${latestWeek.week}ì£¼ì°¨ ëª¨ë¹Œë¦¬í‹° ì£¼ê°„ë™í–¥`;
          }

          // metaSpan ë‚ ì§œ: ë°œí–‰ì¼ì´ ìˆìœ¼ë©´ ì‚¬ìš©, ì—†ìœ¼ë©´ í•˜ë“œì½”ë”© ê°’ ìœ ì§€
          if (metaSpan) {
            // í•´ë‹¹ ì£¼ì°¨ì˜ ë°œí–‰ì¼ ì°¾ê¸° (ë°œí–‰ì¼ì´ ìˆëŠ” ì²« ë²ˆì§¸ ì•„ì´í…œ ì°¾ê¸°)
            const latestWeekData = searchSystem.searchableData.find(item => 
              item.year === latestWeek.year && 
              item.month === latestWeek.month && 
              item.week === latestWeek.week &&
              item.publishDate && item.publishDate.trim() // ë°œí–‰ì¼ì´ ìˆëŠ” ê²ƒë§Œ
            );
            
            if (latestWeekData && latestWeekData.publishDate) {
              // ë°œí–‰ì¼ì´ ìˆìœ¼ë©´ ì‚¬ìš© (YYYY.MM.DD í˜•ì‹)
              metaSpan.textContent = `ğŸ“… ${latestWeekData.publishDate.trim()} ë°œí–‰`;
              console.log('âœ… latest-meta ë‚ ì§œ ì—…ë°ì´íŠ¸:', latestWeekData.publishDate.trim());
            } else {
              console.log('âš ï¸ latest-meta: ë°œí–‰ì¼ ë°ì´í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. í•˜ë“œì½”ë”© ê°’ ìœ ì§€');
            }
            // ë°œí–‰ì¼ì´ ì—†ìœ¼ë©´ í•˜ë“œì½”ë”© ê°’ ìœ ì§€ (HTMLì—ì„œ ì§ì ‘ ìˆ˜ì •)
          }

          if (p) {
            if (weekTitles.length > 0) {
              const titleList = weekTitles.map(t => `ã€Œ${t}ã€`).join(', ');
              p.textContent = `ì´ë²ˆ ì£¼ì°¨ì—ëŠ” ${titleList} ë“± ëª¨ë¹Œë¦¬í‹° íŠ¸ë Œë“œë¥¼ í•œëˆˆì— ì‚´í´ë´…ë‹ˆë‹¤.`;
            } else {
              p.textContent = 'ì´ë²ˆ ì£¼ì°¨ì˜ ì£¼ìš” ëª¨ë¹Œë¦¬í‹° íŠ¸ë Œë“œë¥¼ í•œëˆˆì— ì‚´í´ë´…ë‹ˆë‹¤.';
            }
          }

          if (link) {
            // weeklyUrlì´ ì ˆëŒ€ ê²½ë¡œì¼ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ìƒëŒ€ ê²½ë¡œë¡œ ë³€í™˜
            let href = latestWeek.weeklyUrl;
            if (href.startsWith('/weekly-mobility/')) {
              href = href.replace('/weekly-mobility', '');
            } else if (href.startsWith('/')) {
              href = href.substring(1);
            }
            // ìƒëŒ€ ê²½ë¡œê°€ ì•„ë‹ˆë©´ ì§ì ‘ ìƒì„±
            if (!href || href.startsWith('http')) {
              href = `archive/${latestWeek.year}/${String(latestWeek.month).padStart(2,'0')}/week${latestWeek.week}.html`;
            }
            link.href = href;
          }
        }
      } catch (error) {
        console.error('ìµœì‹  ë™í–¥ ì„¹ì…˜ ìƒì„± ì‹¤íŒ¨:', error);
      }
    }

    // í˜ì´ì§€ ë¡œë“œ ì‹œ ì‹¤í–‰ (ë‘ í•¨ìˆ˜ ëª¨ë‘ ì‹¤í–‰)
    document.addEventListener('DOMContentLoaded', async () => {
      await updateHeroStats();
      await renderLatestSection();
    });
  </script>
  <script>
    // ì—°ë„ íƒ­ ì „í™˜ í•¨ìˆ˜
    function showYear(year) {
      // ëª¨ë“  ì—°ë„ ì»¨í…ì¸  ìˆ¨ê¸°ê¸°
      document.querySelectorAll('.year-content').forEach(content => {
        content.classList.remove('active');
      });
      
      // ëª¨ë“  ì—°ë„ íƒ­ ë¹„í™œì„±í™”
      document.querySelectorAll('.year-tab').forEach(tab => {
        tab.classList.remove('active');
      });
      
      // ì„ íƒí•œ ì—°ë„ ì»¨í…ì¸  í‘œì‹œ
      const yearContent = document.getElementById(`year-${year}`);
      if (yearContent) {
        yearContent.classList.add('active');
      }
      
      // ì„ íƒí•œ ì—°ë„ íƒ­ í™œì„±í™”
      const yearTabs = document.querySelectorAll('.year-tab');
      yearTabs.forEach(tab => {
        if (tab.textContent.includes(`${year}ë…„`)) {
          tab.classList.add('active');
        }
      });
    }

    // ì»¨íƒíŠ¸ í¼ ì œì¶œ ì²˜ë¦¬
    document.addEventListener('DOMContentLoaded', function() {
      const contactForm = document.getElementById('contactForm');
      const contactStatusMessage = document.getElementById('contactStatusMessage');
      const submitBtn = document.getElementById('contactSubmitBtn');

      if (contactForm) {
        contactForm.addEventListener('submit', function(e) {
          e.preventDefault();

          const name = document.getElementById('contactName').value.trim();
          const email = document.getElementById('contactEmail').value.trim();
          const subject = document.getElementById('contactSubject').value.trim();
          const message = document.getElementById('contactMessageTextarea').value.trim();

          // ìœ íš¨ì„± ê²€ì‚¬
          if (!name || !email || !subject || !message) {
            showMessage('ëª¨ë“  í•„ë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.', 'error');
            return;
          }

          // ì´ë©”ì¼ í˜•ì‹ ê²€ì‚¬
          const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
          if (!emailRegex.test(email)) {
            showMessage('ì˜¬ë°”ë¥¸ ì´ë©”ì¼ ì£¼ì†Œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.', 'error');
            return;
          }

          // mailto ë§í¬ ìƒì„±
          const recipient = 'chha@busanbus.or.kr';
          const emailSubject = encodeURIComponent(`[ëª¨ë¹Œë¦¬í‹° ì£¼ê°„ë™í–¥ ë¬¸ì˜] ${subject}`);
          const emailBody = encodeURIComponent(
            `ë³´ë‚¸ì´: ${name}\nì´ë©”ì¼: ${email}\n\n${message}`
          );
          
          const mailtoLink = `mailto:${recipient}?subject=${emailSubject}&body=${emailBody}`;

          // ì´ë©”ì¼ í´ë¼ì´ì–¸íŠ¸ ì—´ê¸°
          window.location.href = mailtoLink;

          // ì„±ê³µ ë©”ì‹œì§€ í‘œì‹œ
          showMessage('ì´ë©”ì¼ í´ë¼ì´ì–¸íŠ¸ê°€ ì—´ë ¸ìŠµë‹ˆë‹¤. ë©”ì¼ì„ í™•ì¸í•´ì£¼ì„¸ìš”.', 'success');

          // í¼ ì´ˆê¸°í™” (ì„ íƒì‚¬í•­)
          setTimeout(() => {
            contactForm.reset();
            hideMessage();
          }, 5000);
        });
      }

      function showMessage(text, type) {
        if (contactStatusMessage) {
          contactStatusMessage.textContent = text;
          contactStatusMessage.style.display = 'block';
          contactStatusMessage.style.background = type === 'success' 
            ? 'var(--success-green)' 
            : 'var(--warning-orange)';
          contactStatusMessage.style.color = 'white';
          contactStatusMessage.style.border = 'none';
        }
      }

      function hideMessage() {
        if (contactStatusMessage) {
          contactStatusMessage.style.display = 'none';
        }
      }
    });

    // PWA ë¹„í™œì„±í™”: ê¸°ì¡´ ì„œë¹„ìŠ¤ì›Œì»¤ í•´ì œ ë° ìºì‹œ ë¹„ìš°ê¸°
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.getRegistrations().then(regs => regs.forEach(r => r.unregister()));
    }
    if (window.caches) {
      caches.keys().then(keys => keys.forEach(k => caches.delete(k)));
    }
  </script>
</body>
</html>
